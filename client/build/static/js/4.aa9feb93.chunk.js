(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1436:function(e,a,t){},1437:function(e,a,t){},1438:function(e,a,t){e.exports={lightColor:"#F2F2F2",darkColor:"#212121",cardColor:"#828282",blanc:"#FBFBFB",rouge:"#E55039",vert:"#2CA12A",noir:"#212121",gris:"#F2F2F2",violet:"#583F93",focus:"#2D9CDB",grisFonce:"#828282",noirCD:"#CDCDCD",blancSimple:"#FFFFFF",jauneClair:"#FFF7AE",attention:"#F9EF99",validation:"#DEF7C2",validationHover:"#4CAF50",error:"#F44336",erreur:"#FFCECB",uiattention:"#FFEB3B",standby:"#FDD497",orange:"#FF9800"}},1439:function(e,a,t){},1440:function(e,a,t){},1441:function(e,a,t){},1442:function(e,a,t){e.exports={lightColor:"#F2F2F2",darkColor:"#212121",cardColor:"#828282",blanc:"#FBFBFB",rouge:"#E55039",vert:"#2CA12A",noir:"#212121",gris:"#F2F2F2",violet:"#583F93",focus:"#2D9CDB",grisFonce:"#828282",noirCD:"#CDCDCD",blancSimple:"#FFFFFF",jauneClair:"#FFF7AE",attention:"#F9EF99",validation:"#DEF7C2",validationHover:"#4CAF50",error:"#F44336",erreur:"#FFCECB",uiattention:"#FFEB3B",standby:"#FDD497",orange:"#FF9800"}},1443:function(e,a,t){},1444:function(e,a,t){},1445:function(e,a,t){},1446:function(e,a,t){},1447:function(e,a,t){e.exports={lightColor:"#F2F2F2",darkColor:"#212121",cardColor:"#828282",blanc:"#FBFBFB",rouge:"#E55039",vert:"#2CA12A",noir:"#212121",gris:"#F2F2F2",violet:"#583F93",focus:"#2D9CDB",grisFonce:"#828282",noirCD:"#CDCDCD",blancSimple:"#FFFFFF",jauneClair:"#FFF7AE",attention:"#F9EF99",validation:"#DEF7C2",validationHover:"#4CAF50",error:"#F44336",erreur:"#FFCECB",uiattention:"#FFEB3B",standby:"#FDD497",orange:"#FF9800"}},1448:function(e,a,t){},1460:function(e,a,t){"use strict";t.r(a);var n=t(16),r=t(2),o=t(11),l=t(15),i=t(13),c=t(12),s=t(14),u=t(22),m=t(0),d=t.n(m),g=t(629),p=t(20),h=t(572),f=t(247),E=t(573),v=t(1413),b=t.n(v),F=t(23),C=t.n(F),k=t(29),N=t(125),w=t.n(N),O=t(389),D=t(1376),j=t(1377),y=t(1378),S=t(1379),T=(t(571),t(172)),B=t(56),M=(t(1436),function(e){return d.a.createElement("div",{className:e.forceShow?"DrawerToggle":"DrawerToggle HideOnDesktop",onClick:e.clicked},d.a.createElement("div",null),d.a.createElement("div",null),d.a.createElement("div",null))}),A=t(7),_=t(568),x=t(43),L=t.n(x),I=(t(1437),function(e){return d.a.createElement(T.a,{to:"/",className:"logo"},"R\xe9fugi\xe9s.info",d.a.createElement("sup",{className:"beta-tag"},"beta"))}),H=t(626),R=t(9),V=t(101),q=(t(1438),function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(r)))).state={dropdownOpen:!1},t.disconnect=function(){A.a.logout()},t.toggle=function(){return t.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},t.navigateTo=function(e){return t.props.history.push(e)},t}return Object(s.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this,a=this.props.location.pathname,t=this.props,n=t.user,r=t.contributeur,o=t.traducteur,l=t.expertTrad,i=t.admin,c=t.membreStruct,s=i&&a.includes("/backend")&&a.includes("/admin"),u=(a.includes("/traduction"),(n.picture||{}).secure_url||L.a);return d.a.createElement("header",{className:"Toolbar"},d.a.createElement("div",{className:"left_buttons"},d.a.createElement(M,{forceShow:s,clicked:function(){return e.props.drawerToggleClicked("left")}}),d.a.createElement(I,null),d.a.createElement("span",{className:"baseline"},"Construire sa vie en France")),d.a.createElement("nav",{className:"DesktopOnly center-buttons"},d.a.createElement(_.a,null),d.a.createElement(H.a,null)),d.a.createElement(V.b,{loupe:!0,className:"search-bar inner-addon right-addon"}),d.a.createElement("div",{className:"right_buttons"},d.a.createElement(R.a,{type:"dark",name:"grid",className:"ml-10 mr-10",tag:T.a,to:"/advanced-search"}," ","Tout voir"),A.a.isAuth()?d.a.createElement(D.a,{className:"user-dropdown",isOpen:this.state.dropdownOpen,toggle:this.toggle},d.a.createElement(j.a,{color:"transparent"},d.a.createElement("img",{src:u,className:"user-picture",alt:"user"}),d.a.createElement("div",{className:"user-badge"})),d.a.createElement(y.a,null,d.a.createElement(S.a,{onClick:function(){return e.navigateTo("/backend/user-profile")}},"Mon profil"),r&&d.a.createElement(S.a,{onClick:function(){return e.navigateTo("/backend/user-dash-contrib")}},"Espace r\xe9daction"),(l||o)&&d.a.createElement(S.a,{onClick:function(){return e.navigateTo("/backend/user-dashboard")}},"Espace traduction"),c&&d.a.createElement(S.a,{onClick:function(){return e.navigateTo("/backend/user-dash-structure")}},"Ma structure"),i&&d.a.createElement(S.a,{onClick:function(){return e.navigateTo("/backend/admin")}},"Administration"),d.a.createElement(S.a,{divider:!0}),d.a.createElement(T.a,{to:"/",onClick:this.disconnect},d.a.createElement(S.a,{className:"text-danger"},"Se d\xe9connecter")))):d.a.createElement(T.a,{to:{pathname:"/login",state:{redirectTo:"/backend/user-profile"}}},d.a.createElement(R.a,{type:"outline-black",className:"connect-btn"},"Connexion"))),!1)}}]),a}(d.a.Component)),J={toggle_lang_modal:B.toggle_lang_modal},U=C()({component:"Toolbar"})(Object(O.a)(Object(k.b)(function(e){return{languei18nCode:e.langue.languei18nCode,langues:e.langue.langues,dispositifs:e.dispositif.dispositifs,user:e.user.user,traducteur:e.user.traducteur,expertTrad:e.user.expertTrad,contributeur:e.user.contributeur,admin:e.user.admin,membreStruct:e.user.membreStruct}},J)(Object(p.b)()(q)))),P=(t(1439),function(e){return e.show?d.a.createElement("div",{className:"Backdrop",onClick:e.clicked}):null}),z=(t(1440),function(e){return d.a.createElement("li",{className:"NavigationItem"},d.a.createElement(T.a,{to:e.link,onClick:e.closed,exact:!0},e.children))}),Q=t(625),Y=(t(1441),function(){var e=Q.default.filter(function(e){return"/dispositifs"===e.path});return d.a.createElement("ul",{className:"NavigationItems"},e.map(function(e,a){return d.a.createElement(z,{key:a,link:e.path,active:1===a},e.name)}))}),Z=(t(1442),function(e){return d.a.createElement(T.a,{exact:!0,to:e.link,onClick:e.closed,className:"backend-navgation-wrapper"},d.a.createElement("li",{className:"BackendNavigationItem"},e.children))}),$=(t(1443),function(e){return d.a.createElement("ul",{className:"BackendNavigationItems"},Q.default.map(function(a,t){return a.path.includes("backend")&&a.path.includes("admin")&&d.a.createElement(Z,Object.assign({key:t,link:a.path,active:1===t},e),a.name)}))}),G=(t(1444),Object(O.a)(function(e){var a=["SideDrawer","Close","HideSideDrawer"];e.open&&(a=["SideDrawer","Open","HideSideDrawer"]);var t=e.location.pathname;return t.includes("/backend")&&a.splice(2),d.a.createElement("div",{className:a.join(" ")},d.a.createElement(I,null),d.a.createElement("nav",null,!t.includes("/backend")&&d.a.createElement(Y,e),t.includes("/backend")&&d.a.createElement($,e)))})),K=t(1385),W=t(107),X=t(248),ee=t.n(X),ae=t(484),te=t(267),ne=t.n(te),re=(t(1445),new Array(6).fill({text:"Ad fugiat amet mollit quis do eiusmod duis cillum velit.",from:{username:"Soufiane"},created_at:"2019-03-15T11:50:37.877Z"})),oe=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(t=Object(i.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(l)))).state={messages:re.map(function(e){return Object(r.a)({},e,{isMe:Math.random()>=.5})}),message:"",urlId:"",locale:"",path:""},t.handleChange=function(e){t.setState({message:e.target.value})},t.sendMessage=function(e,a){A.b.emit(a+":sendMessage",e)},t.submitChat=function(){if(t.state.message){var e={message:t.state.message,itemId:t.state.urlId,itemName:"traduction",filter:t.state.locale,path:t.state.path,type:"sidechat"};A.a.add_channel(e).then(function(e){t.sendMessage(e.data.data,"client"),t.setState({message:""})})}},t.scrollToBottom=function(){t.messagesEnd.scrollIntoView({behavior:"smooth"})},t}return Object(s.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,a,t=this,n=Object(ae.a)(this.props.location.pathname,{path:"/traduction/:id"});if(n&&n.params&&n.params.id){try{a=this.props.location.state.langue.i18nCode,this.setState({locale:a})}catch(r){console.log(r)}e=n.params.id,this.setState({urlId:e,path:this.props.location.pathname}),A.a.get_channel({itemId:e,itemName:"traduction",filter:a||{$exists:!1}}).then(function(e){var a=e.data.data[0];a&&(t.setState({messages:a.messages}),t.scrollToBottom())}),A.b.on("MessageSent",function(e){console.log(e),"sidechat"===e.type&&t.setState({messages:e.messages})})}}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this;return d.a.createElement(K.a,{tabId:"2",className:"p-3 right-side-drawer"},d.a.createElement(W.a,{className:"chat-content"},d.a.createElement("ul",null,this.state.messages.map(function(e,a){return d.a.createElement("li",{key:a},d.a.createElement("div",{className:"msj"+(e.isMe?"":"-rta")+" macro"},e.isMe&&d.a.createElement("div",{className:"avatar"},d.a.createElement("img",{className:"img-circle",src:ne.a,alt:"avatar"})),d.a.createElement("div",{className:"text text-"+(e.isMe?"l":"r")},d.a.createElement("b",null,(e.from||{}).username),d.a.createElement("p",null,e.text),d.a.createElement("p",null,d.a.createElement("small",null,ee.a.utc(e.created_at).fromNow()))),!e.isMe&&d.a.createElement("div",{className:"avatar not-me"},d.a.createElement("img",{className:"img-circle",src:ne.a,alt:"avatar"}))))}),d.a.createElement("li",{style:{float:"left",clear:"both"},ref:function(a){e.messagesEnd=a}}))),d.a.createElement(W.a,{className:"chat-footer"},d.a.createElement("div",{className:"macro input-wrapper"},d.a.createElement("div",{className:"text-wrapper"},d.a.createElement("textarea",{rows:"1",className:"form-control type_msg",placeholder:"Votre message...",value:this.state.message,onChange:this.handleChange}))),d.a.createElement("div",{className:"send-wrapper",onClick:this.submitChat},d.a.createElement("span",{className:"fa fa-share share-icon"}))))}}]),a}(d.a.Component),le=Object(k.b)(function(e){return{messages:e.messages,message:e.message}})(Object(O.a)(oe)),ie=(t(1446),function(e){var a="left"===e.side?d.a.createElement(G,e):d.a.createElement(le,e);return d.a.createElement(d.a.Fragment,null,d.a.createElement(P,{show:e.open,clicked:e.closed}),a)}),ce=t(407),se=t(406),ue=t(567),me=t(251),de=t(60),ge=t(1372),pe=t(621),he=t(1362),fe=t(623),Ee=t(21),ve=t.n(Ee),be=(t(1447),t(4)),Fe=t.n(be),Ce=t(6),ke=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(r)))).state={email:""},t.onChange=function(e){return t.setState({email:e.target.value})},t.sendMail=function(e){e.preventDefault(),t.state.email?A.a.set_mail({mail:t.state.email}).then(function(){ve.a.fire({title:"Yay...",text:"Mail correctement enregistr\xe9 !",type:"success",timer:1500}),t.setState({email:""})}).catch(function(e){return ve.a.fire("Oh non...","Une erreur s'est produite","error")}):ve.a.fire({title:"Oops...",text:"Aucun mail renseign\xe9",type:"error",timer:1500})},t.upcoming=function(){return ve.a.fire({title:"Oh non!",text:"Cette fonctionnalit\xe9 n'est pas encore disponible",type:"error",timer:1500})},t}return Object(s.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return d.a.createElement("div",{className:"animated fadeIn footer"},d.a.createElement(W.a,null,d.a.createElement(de.a,{lg:"4"},d.a.createElement(I,null),d.a.createElement(ge.a,{onSubmit:this.sendMail},d.a.createElement(pe.a,null,d.a.createElement("div",{className:"position-relative"},d.a.createElement(he.a,{type:"email",name:"email",value:this.state.email,onChange:this.onChange,id:"emailNewsletter",placeholder:"Je m'abonne \xe0 la newsletter"}),d.a.createElement(fe.a,{addonType:"append",className:"icon-append",onClick:this.sendMail},d.a.createElement(Ce.a,{name:"at-outline",fill:Fe.a.noir}))))),d.a.createElement("div",{className:"ligne-footer"},d.a.createElement(R.a,{tag:"a",href:"https://agi-r.mn.co",target:"_blank",className:"footer-btn",type:"light-action",name:"people-outline",fill:Fe.a.noir},"Participer \xe0 l'\xe9volution de r\xe9fugi\xe9s.info")),d.a.createElement("div",{className:"ligne-footer"},d.a.createElement(R.a,{tag:"a",href:"https://agir.canny.io/agir",target:"_blank",className:"footer-btn",type:"light-action",name:"plus-circle-outline",fill:Fe.a.noir},"Demander des fonctionnalit\xe9s"))),d.a.createElement(de.a,{lg:"8",className:"right-col"},d.a.createElement(W.a,{className:"main-row"},d.a.createElement(de.a,{lg:"4"},d.a.createElement("h5",{className:"footer-header"},"Le projet"),d.a.createElement("div",{className:"lien-footer"},d.a.createElement(me.NavHashLink,{to:"/qui-sommes-nous#hero"},"Qui sommes-nous ?")),d.a.createElement("div",{className:"lien-footer"},d.a.createElement(T.a,{to:"/comment-contribuer"},"Comment contribuer ?")),d.a.createElement("div",{className:"lien-footer",onClick:this.upcoming},d.a.createElement(T.a,{to:"/"},"Accessibilit\xe9")),d.a.createElement("div",{className:"lien-footer",onClick:this.upcoming},d.a.createElement(T.a,{to:"/"},"Mentions l\xe9gales"))),d.a.createElement(de.a,{lg:"8"},d.a.createElement("h5",{className:"footer-header"},"Vous cherchez ?"),d.a.createElement("div",{className:"lien-footer"},d.a.createElement(T.a,{to:"/advanced-search"},"Dispositif d'accompagnement")),d.a.createElement("div",{className:"lien-footer"},d.a.createElement(me.NavHashLink,{to:"/homepage#plan",smooth:!0},"D\xe9marche administrative")),d.a.createElement("div",{className:"lien-footer"},d.a.createElement(me.NavHashLink,{to:"/homepage#plan",smooth:!0},"Parcours personnalis\xe9")),d.a.createElement("div",{className:"lien-footer"},d.a.createElement(me.NavHashLink,{to:"/homepage#explique"},"Lexique")))))))}}]),a}(m.Component),Ne=C()({page:"Footer"})(Object(p.b)()(ke)),we=(t(1448),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(c.a)(a).call(this,e))).state={showSideDrawer:{left:!1,right:!1},traducteur:!1,showOnBoardingTraducteurModal:!1},t.audio=new Audio,t.loading=function(){return d.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},t.sideDrawerClosedHandler=function(e){t.setState({showSideDrawer:Object(r.a)({},t.state.showSideDrawer,Object(n.a)({},e,!1))})},t.sideDrawerToggleHandler=function(e){t.setState(function(a){return{showSideDrawer:Object(r.a)({},t.state.showSideDrawer,Object(n.a)({},e,!a.showSideDrawer[e]))}})},t.devenirTraducteur=function(){t.setState({showOnBoardingTraducteurModal:!0})},t.closeOnBoardingTraducteurModal=function(){t.setState({showOnBoardingTraducteurModal:!1})},t.changeLanguage=function(e){t.props.tracking.trackEvent({action:"click",label:"changeLanguage",value:e}),t.props.toggle_langue(e),t.props.i18n.getResourceBundle(e,"translation")?t.props.i18n.changeLanguage(e):console.log("Resource not found in i18next."),t.props.showLangModal&&t.props.toggle_lang_modal()},t.toggleHover=function(e){t.props.ttsActive&&e.target&&e.target.firstChild&&e.target.firstChild.nodeValue&&(console.log(e.target.firstChild.nodeValue),t.readAudio(e.target.firstChild.nodeValue))},t.readAudio=ue.a.bind(Object(u.a)(Object(u.a)(t))),t}return Object(s.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.fetch_user(),this.props.fetch_dispositifs(),this.props.fetch_structures(),this.props.fetch_langues().then(function(){var a=w.a.get("languei18nCode");a&&"fr"!==a?e.changeLanguage(a):a||e.props.toggle_lang_modal()}),window.scrollTo(0,0)}},{key:"componentDidUpdate",value:function(e){e.ttsActive===this.props.ttsActive||this.props.ttsActive||(this.audio.pause(),this.audio.currentTime=0)}},{key:"render",value:function(){var e=this;return d.a.createElement(b.a,{direction:"ar"===g.a.language?v.DIRECTIONS.RTL:v.DIRECTIONS.LTR},d.a.createElement("div",{onMouseOver:this.toggleHover},d.a.createElement(m.Suspense,{fallback:this.loading()},d.a.createElement(U,{drawerToggleClicked:this.sideDrawerToggleHandler})),d.a.createElement("div",{className:"app-body"},d.a.createElement(ie,{side:"left",open:this.state.showSideDrawer.left,closed:function(){return e.sideDrawerClosedHandler("left")}}),d.a.createElement("main",{className:"Content"},this.props.children,d.a.createElement(d.a.Fragment,null,d.a.createElement(h.a,null,Q.default.map(function(a,t){return a.component?d.a.createElement(f.a,{key:t,path:a.path,exact:a.exact,name:a.name,render:function(t){return d.a.createElement(a.component,Object.assign({socket:e.props.socket,socketFn:e.props.socketFn},t))}}):null}),d.a.createElement(E.a,{from:"/",to:"/homepage"}))))),d.a.createElement(Ne,null),d.a.createElement(ce.a,{show:this.state.showOnBoardingTraducteurModal,closeOnBoardingTraducteurModal:this.closeOnBoardingTraducteurModal}),d.a.createElement(se.a,{show:this.props.showLangModal,current_language:g.a.language,toggle:this.props.toggle_lang_modal,changeLanguage:this.changeLanguage,languages:this.props.langues})))}}]),a}(m.Component)),Oe=B;a.default=C()({layout:"Layout"},{dispatchOnMount:!0})(Object(k.b)(function(e){return{ttsActive:e.tts.ttsActive,languei18nCode:e.langue.languei18nCode,showLangModal:e.langue.showLangModal,langues:e.langue.langues}},Oe)(Object(p.b)()(we)))}}]);
//# sourceMappingURL=4.aa9feb93.chunk.js.map