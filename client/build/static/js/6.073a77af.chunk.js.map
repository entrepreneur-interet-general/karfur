{"version":3,"sources":["containers/Login/Login.scss","containers/Login/Login.js"],"names":["module","exports","lightColor","darkColor","cardColor","blanc","rouge","vert","noir","gris","violet","focus","grisFonce","noirCD","blancSimple","jauneClair","attention","validation","validationHover","error","erreur","uiattention","standby","orange","Login","_Component","_getPrototypeOf2","_this","Object","_Users_tonyparker_Documents_github_karfur_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_len","arguments","length","args","Array","_key","_Users_tonyparker_Documents_github_karfur_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_tonyparker_Documents_github_karfur_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","apply","concat","state","username","password","cpassword","code","email","phone","authy_id","traducteur","passwordVisible","redirectTo","step","userExists","usernameHidden","showModal","togglePasswordVisibility","setState","pS","toggleModal","goBack","resetPassword","API","reset_password","then","data","Swal","fire","title","text","type","send","e","preventDefault","timer","checkUserExists","status","passwdCheck","score","user","login","props","history","push","localStorage","setItem","token","setAuthToken","fetch_user","catch","response","_","get","console","log","handleChange","event","_Users_tonyparker_Documents_github_karfur_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","target","id","value","upcoming","_Users_tonyparker_Documents_github_karfur_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","_Users_tonyparker_Documents_github_karfur_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","key","locState","location","window","scrollTo","_this$state","t","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","RegisterHeader","reactstrap__WEBPACK_IMPORTED_MODULE_8__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","reactstrap__WEBPACK_IMPORTED_MODULE_10__","onSubmit","react_transition_group__WEBPACK_IMPORTED_MODULE_17__","in","appear","timeout","classNames","UsernameField","onChange","Fragment","PasswordField","placeholder","onClick","CodeField","PasswordFooter","react_router_dom__WEBPACK_IMPORTED_MODULE_16__","to","_components_FigmaUI_FButton_FButton__WEBPACK_IMPORTED_MODULE_24__","name","InfoModal","show","toggle","Component","_components_FigmaUI_FInput_FInput__WEBPACK_IMPORTED_MODULE_26__","assign","prepend","prependName","autoComplete","color","disabled","password_check","append","autoFocus","appendName","inputClassName","onAppendClick","reactstrap__WEBPACK_IMPORTED_MODULE_11__","colorAvancement","reactstrap__WEBPACK_IMPORTED_MODULE_12__","_components_UI_EVAIcon_EVAIcon__WEBPACK_IMPORTED_MODULE_25__","fill","variables","_components_Modals_Modal__WEBPACK_IMPORTED_MODULE_28__","modalHeader","reactstrap__WEBPACK_IMPORTED_MODULE_13__","reactstrap__WEBPACK_IMPORTED_MODULE_14__","mapDispatchToProps","track","page","dispatchOnMount","connect","withTranslation"],"mappings":"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","file":"static/js/6.073a77af.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightColor\":\"#F2F2F2\",\"darkColor\":\"#212121\",\"cardColor\":\"#828282\",\"blanc\":\"#FBFBFB\",\"rouge\":\"#E55039\",\"vert\":\"#2CA12A\",\"noir\":\"#212121\",\"gris\":\"#F2F2F2\",\"violet\":\"#583F93\",\"focus\":\"#2D9CDB\",\"grisFonce\":\"#828282\",\"noirCD\":\"#CDCDCD\",\"blancSimple\":\"#FFFFFF\",\"jauneClair\":\"#FFF7AE\",\"attention\":\"#F9EF99\",\"validation\":\"#DEF6C2\",\"validationHover\":\"#4CAF50\",\"error\":\"#F44336\",\"erreur\":\"#FFCECB\",\"uiattention\":\"#FFEB3B\",\"standby\":\"#FDD497\",\"orange\":\"#FF9800\"};","import React, { Component } from 'react';\nimport track from 'react-tracking';\nimport { Button, Card, CardBody, Form, ModalBody, ModalFooter, Progress } from 'reactstrap';\nimport Swal from 'sweetalert2';\nimport {NavLink} from 'react-router-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport _ from \"lodash\";\nimport passwdCheck from \"zxcvbn\";\n\nimport API from '../../utils/API';\nimport setAuthToken from '../../utils/setAuthToken';\n// import FCBtn from '../../assets/FCboutons-10.png';\nimport FButton from '../../components/FigmaUI/FButton/FButton';\nimport EVAIcon from '../../components/UI/EVAIcon/EVAIcon';\nimport FInput from '../../components/FigmaUI/FInput/FInput';\nimport {fetch_user} from \"../../Store/actions\";\nimport Modal from '../../components/Modals/Modal';\nimport { colorAvancement } from '../../components/Functions/ColorFunctions';\n\nimport './Login.scss';\nimport variables from 'scss/colors.scss';\n\nexport class Login extends Component {\n  state = {\n    username : \"\",\n    password: \"\",\n    cpassword: \"\",\n    code: \"\",\n    email: \"\",\n    phone: \"\",\n    authy_id: \"\",\n    traducteur : false,\n    passwordVisible:false,\n    redirectTo : \"/\",\n    step: 0,\n    userExists: false,\n    usernameHidden:false,\n    showModal:false\n  }\n\n  componentDidMount(){\n    let locState = this.props.location.state ;\n    if(locState){ this.setState({traducteur: locState.traducteur, redirectTo: locState.redirectTo || \"/\"}); }\n    window.scrollTo(0, 0);\n  }\n\n  togglePasswordVisibility = () => this.setState(pS=>({passwordVisible: !pS.passwordVisible}))\n  toggleModal = () => this.setState(pS=>({showModal: !pS.showModal}))\n\n  goBack = () => this.setState({step: 0, userExists: false, password:\"\", cpassword: \"\"});\n\n  resetPassword = () => {\n    API.reset_password({username: this.state.username}).then(data => {\n      Swal.fire( {title: 'Yay...', text: 'Le mot de passe de récupération a été envoyé à l\\'adresse mail renseignée lors de la création du compte', type: 'success'} )\n    })\n  }\n\n  send = (e) => {\n    e.preventDefault();\n    if(this.state.step === 0){\n      if(this.state.username.length === 0){\n        Swal.fire( {title: 'Oops...', text: 'Aucun nom d\\'utilisateur n\\'est renseigné !', type: 'error', timer: 1500});return;\n      }\n      API.checkUserExists({'username' : this.state.username}).then(data => {\n        this.setState({userExists: data.status === 200, step: 1});\n      })\n    }else{\n      if(this.state.password.length === 0){\n        return Swal.fire( {title: 'Oops...', text: 'Aucun mot de passe n\\'est renseigné !', type: 'error', timer: 1500});\n      }\n      if(!this.state.userExists && this.state.password !== this.state.cpassword){\n        return Swal.fire( {title: 'Oops...', text: 'Les mots de passes ne correspondent pas !', type: 'error', timer: 1500});\n      }\n      if(!this.state.userExists && (passwdCheck(this.state.password) || {}).score < 1){\n        return Swal.fire( {title: 'Oops...', text: 'Le mot de passe est trop faible', type: 'error', timer: 1500});\n      }\n      const user = {\n        username : this.state.username,\n        password : this.state.password,\n        cpassword : this.state.cpassword,\n        traducteur : this.state.traducteur,\n        code: this.state.code,\n        email: this.state.email,\n        phone: this.state.phone,\n      }\n      API.login(user).then(data => {\n        Swal.fire( {title: 'Yay...', text: 'Authentification réussie !', type: 'success', timer: 1500} ).then(()=>{\n          this.props.history.push(this.state.redirectTo)\n        });\n        localStorage.setItem('token', data.data.token);\n        setAuthToken(data.data.token);\n        this.props.fetch_user();\n      }).catch(e => {\n        if(e.response.status === 501){\n          this.setState({showModal: false, step: 2});\n        }else if(e.response.status === 502){\n          this.setState({showModal: true, phone: _.get(e,\"response.data.phone\", \"\"), email: _.get(e,\"response.data.email\", \"\") });\n        }else{console.log(e.response)}\n      })\n    }\n  }    \n\n  handleChange = event => this.setState({ [event.target.id]: event.target.value });\n\n  upcoming = () => Swal.fire( {title: 'Oh non!', text: 'Cette fonctionnalité n\\'est pas encore disponible', type: 'error', timer: 1500 })\n\n  render() {\n    const {passwordVisible, username, step, userExists, code, showModal, email, phone} = this.state;\n    const { t } = this.props;\n    return (\n      <div className=\"app flex-row align-items-center login\">\n        <div className=\"login-wrapper\">\n          {step === 1 && !userExists && \n            <RegisterHeader goBack={this.goBack} t={t} /> }\n          <Card className=\"card-login main-card\">\n            <CardBody>\n              <Form onSubmit={this.send}>\n                <h5>\n                  {step === 0 || userExists ? \n                    t(\"Login.Se connecter\", \"Se connecter\") : \n                    step === 1 ? t(\"Login.Se créer un compte\", \"Se créer un compte\") :\n                    \"Votre code de confirmation\"}\n                </h5>\n                <div className=\"texte-small mb-12\">\n                  {step === 0 ? \n                    t(\"Login.Ou se créer un compte\", \"Ou se créer un compte\") : \n                      (userExists && step === 1 ? t(\"Login.Content de vous revoir !\", \"Content de vous revoir !\") : \n                        step === 1 ? t(\"Login.Pas besoin d’email\", \"Pas besoin d’email\") : \"Nous vous avons envoyé un SMS à votre numéro\")}\n                </div>\n                <CSSTransition\n                  in={true} \n                  appear={true} \n                  timeout={600} \n                  classNames=\"example\"\n                >\n                  {step===0 ? \n                    <UsernameField value={username} onChange={this.handleChange} step={step} key=\"username-field\" t={t}/> :\n                    step === 1 ?\n                      <>\n                        <PasswordField \n                          id=\"password\"\n                          placeholder=\"Mot de passe\"\n                          value={this.state.password} \n                          onChange={this.handleChange} \n                          passwordVisible={passwordVisible}\n                          onClick={this.togglePasswordVisibility}\n                          userExists={userExists}\n                          t={t} />\n                        {step === 1 && !userExists &&\n                          <PasswordField \n                            id=\"cpassword\"\n                            placeholder=\"Confirmez le mot de passe\"\n                            value={this.state.cpassword} \n                            onChange={this.handleChange} \n                            passwordVisible={passwordVisible}\n                            onClick={this.togglePasswordVisibility}\n                            t={t} />}\n                      </> : \n                      <CodeField value={code} onChange={this.handleChange} key=\"code-field\"/>}\n                </CSSTransition>\n                \n                {step === 1 &&\n                  <PasswordFooter value={this.state.password} upcoming={this.upcoming} t={t} userExists={userExists} resetPassword={this.resetPassword} />}\n              </Form>\n            </CardBody>\n          </Card>\n          {/* <Card className=\"card-login\">\n            <CardBody>\n              <div className=\"alt-login\">\n                <form action=\"/user/FClogin\" method=\"post\">\n                  <div className=\"field\">\n                    <label className=\"label\">\n                        Niveau eIDAS\n                        <span\n                          className=\"has-text-info tooltip is-tooltip-multiline\"\n                          data-tooltip=\"Vous pouvez dès à présent tester les identités de niveau faible (eidas1), substantiel (eidas2) et fort (eidas3) sur l'environnement de qualification. En production, vous n'aurez cependant accès pour l'instant qu'à des identités de niveau faible (eidas1).\" >\n                            (info)\n                        </span>\n                    </label>\n                    <div className=\"select\">\n                      <select name=\"eidasLevel\">\n                        <option value=\"eidas1\">Défaut : Faible (eidas1)</option>\n                        <option value=\"eidas2\">Substantiel (eidas2)</option>\n                        <option value=\"eidas3\">Fort (eidas3)</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"field\">\n                    <input type=\"image\" src={FCBtn} alt=\"Soumettre\"/>\n                  </div>\n                </form>\n              </div>\n            </CardBody>\n          </Card> */}\n          <NavLink to=\"/\">\n            <FButton type=\"outline\" name=\"corner-up-left-outline\" className=\"retour-btn\">\n              {t(\"Login.Retour à l'accueil\", \"Retour à l'accueil\")}\n            </FButton>\n          </NavLink>\n        </div>\n\n        <InfoModal \n          show={showModal} \n          email={email}\n          phone={phone}\n          toggle={this.toggleModal} \n          send={this.send} \n          onChange={this.handleChange} \n        />\n      </div>\n    );\n  }\n}\n\nconst UsernameField = props => (\n  <div key=\"username-field\">\n    <FInput\n      prepend\n      prependName=\"person-outline\"\n      {...props}\n      id=\"username\" type=\"username\" placeholder={props.t(\"Login.Pseudonyme\", \"Pseudonyme\")} autoComplete=\"username\" />\n    <div className=\"footer-buttons\">\n      <FButton type=\"dark\" name=\"arrow-forward-outline\" color=\"dark\" className=\"connect-btn\" disabled={!props.value}>\n        {props.t(\"Suivant\", \"Suivant\")}\n      </FButton>\n    </div>\n  </div>\n)\n\nconst PasswordField = props => {\n  const password_check = passwdCheck(props.value);\n  return (<>\n    <FInput\n      prepend append \n      autoFocus={props.id===\"password\"}\n      prependName=\"lock-outline\"\n      appendName={props.passwordVisible ? \"eye-off-2-outline\" : \"eye-outline\"}\n      inputClassName=\"password-input\"\n      onAppendClick={props.onClick}\n      {...props}\n      type={props.passwordVisible ? \"text\" : \"password\"} id={props.id} \n      placeholder={props.placeholder && props.t(\"Login.\" + props.placeholder, props.placeholder)} autoComplete=\"new-password\" />\n    {props.id===\"password\" && !props.userExists && props.value && \n      <div className=\"score-wrapper mb-10\">\n        <span className=\"mr-10\">{props.t(\"Login.Force\", \"Force\")} :</span>\n        <Progress \n          color={colorAvancement(password_check.score/4)} \n          value={(0.1+(password_check.score/4))*100/1.1} \n        />\n      </div>}\n  </>)\n}\n\nconst PasswordFooter = props => (\n  <div className=\"footer-buttons\">\n    {props.userExists &&\n      <Button type=\"button\" color=\"transparent\" className=\"mr-10 password-btn\" onClick={props.resetPassword}>\n        <u>{props.t(\"Login.Mot de passe oublié ?\", \"Mot de passe oublié ?\")}</u>\n      </Button>}\n    <FButton type=\"dark\" name=\"log-in\" color=\"dark\" className=\"connect-btn\" disabled={!props.value}>\n      {props.t(\"Connexion\", \"Connexion\")}\n    </FButton>\n  </div>\n)\n\nconst RegisterHeader = props => (\n  <Card className=\"card-login header-card cursor-pointer\" onClick={props.goBack}>\n    <CardBody>\n      <EVAIcon name=\"corner-up-left-outline\" fill={variables.noir} className=\"mr-20\" />\n      <span>{props.t(\"Login.no-account\", \"Il n'existe pas de compte à ce nom\")}. </span>\n    </CardBody>\n  </Card>\n)\n\nconst CodeField = props => (\n  <div key=\"code-field\">\n    <FInput\n      prepend\n      prependName=\"lock-outline\"\n      {...props}\n      id=\"code\" type=\"number\" placeholder=\"code\" />\n    <div className=\"footer-buttons\">\n      <FButton type=\"dark\" name=\"arrow-forward-outline\" color=\"dark\" className=\"connect-btn\" disabled={!props.value}>\n        Valider\n      </FButton>\n    </div>\n  </div>\n);\n\nconst InfoModal = props => (\n  <Modal\n    className=\"info-modal\" \n    modalHeader = \"Vos informations de compte\"\n    {...props}\n  >\n    <ModalBody>\n      <FInput\n        prepend\n        prependName=\"at-outline\"\n        value={props.email}\n        {...props}\n        id=\"email\" type=\"email\" placeholder=\"Email\" />\n      <FInput\n        prepend\n        prependName=\"phone-call-outline\"\n        value={props.phone}\n        {...props}\n        id=\"phone\" type=\"phone\" placeholder=\"Téléphone : 06 11 22 33 44\" />\n    </ModalBody>\n    <ModalFooter>\n      <FButton type=\"light-action\" onClick={props.toggle} className=\"mr-10\">\n        Annuler\n      </FButton>\n      <FButton type=\"validate\" name=\"checkmark\" onClick={props.send}>\n        Valider\n      </FButton>\n    </ModalFooter>\n  </Modal>\n)\n\nconst mapDispatchToProps = {fetch_user};\n\nexport default track({\n  page: 'Login',\n}, { dispatchOnMount: true })(\n  connect(null, mapDispatchToProps)(\n    withTranslation()(Login)\n  )\n);\n"],"sourceRoot":""}