(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1360:function(e,a,t){},1361:function(e,a,t){},1362:function(e,a,t){e.exports={lightColor:"#F2F2F2",darkColor:"#212121",cardColor:"#828282",blanc:"#FBFBFB",rouge:"#E55039",vert:"#2CA12A",noir:"#212121",gris:"#F2F2F2",violet:"#583F93",focus:"#2D9CDB",grisFonce:"#828282",noirCD:"#CDCDCD",blancSimple:"#FFFFFF",jauneClair:"#FFF7AE",attention:"#F9EF99",validation:"#DEF7C2",validationHover:"#4CAF50",error:"#F44336",erreur:"#FFCECB",uiattention:"#FFEB3B",standby:"#FDD497",orange:"#FF9800"}},1363:function(e,a,t){},1364:function(e,a,t){},1365:function(e,a,t){},1366:function(e,a,t){e.exports={lightColor:"#F2F2F2",darkColor:"#212121",cardColor:"#828282",blanc:"#FBFBFB",rouge:"#E55039",vert:"#2CA12A",noir:"#212121",gris:"#F2F2F2",violet:"#583F93",focus:"#2D9CDB",grisFonce:"#828282",noirCD:"#CDCDCD",blancSimple:"#FFFFFF",jauneClair:"#FFF7AE",attention:"#F9EF99",validation:"#DEF7C2",validationHover:"#4CAF50",error:"#F44336",erreur:"#FFCECB",uiattention:"#FFEB3B",standby:"#FDD497",orange:"#FF9800"}},1367:function(e,a,t){},1368:function(e,a,t){},1369:function(e,a,t){},1370:function(e,a,t){},1371:function(e,a,t){e.exports={lightColor:"#F2F2F2",darkColor:"#212121",cardColor:"#828282",blanc:"#FBFBFB",rouge:"#E55039",vert:"#2CA12A",noir:"#212121",gris:"#F2F2F2",violet:"#583F93",focus:"#2D9CDB",grisFonce:"#828282",noirCD:"#CDCDCD",blancSimple:"#FFFFFF",jauneClair:"#FFF7AE",attention:"#F9EF99",validation:"#DEF7C2",validationHover:"#4CAF50",error:"#F44336",erreur:"#FFCECB",uiattention:"#FFEB3B",standby:"#FDD497",orange:"#FF9800"}},1372:function(e,a,t){},1384:function(e,a,t){"use strict";t.r(a);var n=t(16),r=t(2),o=t(11),l=t(15),i=t(13),c=t(12),s=t(14),u=t(20),m=t(0),d=t.n(m),g=t(650),p=t(21),h=t(595),f=t(254),E=t(594),v=t(128),b=t.n(v),F=t(23),C=t.n(F),k=t(31),N=t(126),w=t.n(N),O=t(373),D=t(1340),T=t(1341),j=t(1342),y=t(1343),S=(t(593),t(176)),B=t(56),M=(t(1360),function(e){return d.a.createElement("div",{className:e.forceShow?"DrawerToggle":"DrawerToggle HideOnDesktop",onClick:e.clicked},d.a.createElement("div",null),d.a.createElement("div",null),d.a.createElement("div",null))}),A=t(7),_=t(590),x=t(41),L=t.n(x),H=(t(1361),function(e){return d.a.createElement(S.a,{to:"/",className:"logo"},"R\xe9fugi\xe9s.info",d.a.createElement("sup",{className:"beta-tag"},"beta"))}),I=t(647),R=t(8),V=t(105),q=t(6),J=(t(1362),t(4)),P=t.n(J),U=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(r)))).state={dropdownOpen:!1},t.disconnect=function(){A.a.logout(),t.props.fetch_user()},t.toggle=function(){return t.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},t.navigateTo=function(e){return t.props.history.push(e)},t}return Object(s.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this,a=this.props.location.pathname,t=this.props,n=t.user,r=t.contributeur,o=t.traducteur,l=t.expertTrad,i=t.admin,c=t.membreStruct,s=t.t,u=i&&a.includes("/backend")&&a.includes("/admin"),m=(a.includes("/traduction"),(n.picture||{}).secure_url||L.a);return d.a.createElement("header",{className:"Toolbar"},d.a.createElement("div",{className:"left_buttons"},d.a.createElement(M,{forceShow:u,clicked:function(){return e.props.drawerToggleClicked("left")}}),d.a.createElement(H,null),"/"!==a&&"/homepage"!==a&&d.a.createElement(S.a,{to:"/",className:"home-btn"},d.a.createElement(q.a,{name:"home",fill:P.a.noir,className:"mr-10"}),d.a.createElement("b",{className:"home-texte"},s("Toolbar.Accueil","Accueil")))),d.a.createElement("nav",{className:"DesktopOnly center-buttons"},d.a.createElement(_.a,null),d.a.createElement(I.a,null)),d.a.createElement(V.b,{loupe:!0,className:"search-bar inner-addon right-addon"}),d.a.createElement("div",{className:"right_buttons"},d.a.createElement(R.a,{type:"dark",name:"grid",className:"ml-10 mr-10",tag:S.a,to:"/advanced-search"}," ",s("Toolbar.Tout voir","Tout voir")),A.a.isAuth()?d.a.createElement(D.a,{className:"user-dropdown",isOpen:this.state.dropdownOpen,toggle:this.toggle},d.a.createElement(T.a,{color:"transparent"},d.a.createElement("img",{src:m,className:"user-picture",alt:"user"}),d.a.createElement("div",{className:"user-badge"})),d.a.createElement(j.a,null,d.a.createElement(y.a,{onClick:function(){return e.navigateTo("/backend/user-profile")}},s("Toolbar.Mon profil","Mon profil")),r&&d.a.createElement(y.a,{onClick:function(){return e.navigateTo("/backend/user-dash-contrib")}},s("Toolbar.Espace r\xe9daction","Espace r\xe9daction")),(l||o)&&d.a.createElement(y.a,{onClick:function(){return e.navigateTo("/backend/user-dashboard")}},s("Toolbar.Espace traduction","Espace traduction")),c&&d.a.createElement(y.a,{onClick:function(){return e.navigateTo("/backend/user-dash-structure")}},s("Toolbar.Ma structure","Ma structure")),i&&d.a.createElement(y.a,{onClick:function(){return e.navigateTo("/backend/admin")}},s("Toolbar.Administration","Administration")),d.a.createElement(y.a,{divider:!0}),d.a.createElement(S.a,{to:"/",onClick:this.disconnect},d.a.createElement(y.a,{className:"text-danger"},s("Toolbar.Se d\xe9connecter","Se d\xe9connecter"))))):d.a.createElement(S.a,{to:{pathname:"/login",state:{redirectTo:"/backend/user-profile"}}},d.a.createElement(R.a,{type:"outline-black",className:"connect-btn"},s("Toolbar.Connexion","Connexion")))),!1)}}]),a}(d.a.Component),z={toggle_lang_modal:B.toggle_lang_modal,fetch_user:B.fetch_user},Q=C()({component:"Toolbar"})(Object(O.a)(Object(k.b)(function(e){return{languei18nCode:e.langue.languei18nCode,langues:e.langue.langues,dispositifs:e.dispositif.dispositifs,user:e.user.user,traducteur:e.user.traducteur,expertTrad:e.user.expertTrad,contributeur:e.user.contributeur,admin:e.user.admin,membreStruct:e.user.membreStruct}},z)(Object(p.b)()(U)))),Y=(t(1363),function(e){return e.show?d.a.createElement("div",{className:"Backdrop",onClick:e.clicked}):null}),Z=(t(1364),function(e){return d.a.createElement("li",{className:"NavigationItem"},d.a.createElement(S.a,{to:e.link,onClick:e.closed,exact:!0},e.children))}),$=t(646),G=(t(1365),function(){var e=$.default.filter(function(e){return"/dispositifs"===e.path});return d.a.createElement("ul",{className:"NavigationItems"},e.map(function(e,a){return d.a.createElement(Z,{key:a,link:e.path,active:1===a},e.name)}))}),K=(t(1366),function(e){return d.a.createElement(S.a,{exact:!0,to:e.link,onClick:e.closed,className:"backend-navgation-wrapper"},d.a.createElement("li",{className:"BackendNavigationItem"},e.children))}),W=(t(1367),function(e){return d.a.createElement("ul",{className:"BackendNavigationItems"},$.default.map(function(a,t){return a.path.includes("backend")&&a.path.includes("admin")&&d.a.createElement(K,Object.assign({key:t,link:a.path,active:1===t},e),a.name)}))}),X=(t(1368),Object(O.a)(function(e){var a=["SideDrawer","Close","HideSideDrawer"];e.open&&(a=["SideDrawer","Open","HideSideDrawer"]);var t=e.location.pathname;return t.includes("/backend")&&a.splice(2),d.a.createElement("div",{className:a.join(" ")},d.a.createElement(H,null),d.a.createElement("nav",null,!t.includes("/backend")&&d.a.createElement(G,e),t.includes("/backend")&&d.a.createElement(W,e)))})),ee=t(1349),ae=t(109),te=t(255),ne=t.n(te),re=t(421),oe=t(273),le=t.n(oe),ie=(t(1369),new Array(6).fill({text:"Ad fugiat amet mollit quis do eiusmod duis cillum velit.",from:{username:"Soufiane"},created_at:"2019-03-15T11:50:37.877Z"})),ce=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(t=Object(i.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(l)))).state={messages:ie.map(function(e){return Object(r.a)({},e,{isMe:Math.random()>=.5})}),message:"",urlId:"",locale:"",path:""},t.handleChange=function(e){t.setState({message:e.target.value})},t.sendMessage=function(e,a){A.b.emit(a+":sendMessage",e)},t.submitChat=function(){if(t.state.message){var e={message:t.state.message,itemId:t.state.urlId,itemName:"traduction",filter:t.state.locale,path:t.state.path,type:"sidechat"};A.a.add_channel(e).then(function(e){t.sendMessage(e.data.data,"client"),t.setState({message:""})})}},t.scrollToBottom=function(){t.messagesEnd.scrollIntoView({behavior:"smooth"})},t}return Object(s.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,a,t=this,n=Object(re.a)(this.props.location.pathname,{path:"/traduction/:id"});if(n&&n.params&&n.params.id){try{a=this.props.location.state.langue.i18nCode,this.setState({locale:a})}catch(r){console.log(r)}e=n.params.id,this.setState({urlId:e,path:this.props.location.pathname}),A.a.get_channel({itemId:e,itemName:"traduction",filter:a||{$exists:!1}}).then(function(e){var a=e.data.data[0];a&&(t.setState({messages:a.messages}),t.scrollToBottom())}),A.b.on("MessageSent",function(e){console.log(e),"sidechat"===e.type&&t.setState({messages:e.messages})})}}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this;return d.a.createElement(ee.a,{tabId:"2",className:"p-3 right-side-drawer"},d.a.createElement(ae.a,{className:"chat-content"},d.a.createElement("ul",null,this.state.messages.map(function(e,a){return d.a.createElement("li",{key:a},d.a.createElement("div",{className:"msj"+(e.isMe?"":"-rta")+" macro"},e.isMe&&d.a.createElement("div",{className:"avatar"},d.a.createElement("img",{className:"img-circle",src:le.a,alt:"avatar"})),d.a.createElement("div",{className:"text text-"+(e.isMe?"l":"r")},d.a.createElement("b",null,(e.from||{}).username),d.a.createElement("p",null,e.text),d.a.createElement("p",null,d.a.createElement("small",null,ne.a.utc(e.created_at).fromNow()))),!e.isMe&&d.a.createElement("div",{className:"avatar not-me"},d.a.createElement("img",{className:"img-circle",src:le.a,alt:"avatar"}))))}),d.a.createElement("li",{style:{float:"left",clear:"both"},ref:function(a){e.messagesEnd=a}}))),d.a.createElement(ae.a,{className:"chat-footer"},d.a.createElement("div",{className:"macro input-wrapper"},d.a.createElement("div",{className:"text-wrapper"},d.a.createElement("textarea",{rows:"1",className:"form-control type_msg",placeholder:"Votre message...",value:this.state.message,onChange:this.handleChange}))),d.a.createElement("div",{className:"send-wrapper",onClick:this.submitChat},d.a.createElement("span",{className:"fa fa-share share-icon"}))))}}]),a}(d.a.Component),se=Object(k.b)(function(e){return{messages:e.messages,message:e.message}})(Object(O.a)(ce)),ue=(t(1370),function(e){var a="left"===e.side?d.a.createElement(X,e):d.a.createElement(se,e);return d.a.createElement(d.a.Fragment,null,d.a.createElement(Y,{show:e.open,clicked:e.closed}),a)}),me=t(390),de=t(389),ge=t(589),pe=t(127),he=t(60),fe=t(1336),Ee=t(642),ve=t(1326),be=t(644),Fe=t(22),Ce=t.n(Fe),ke=(t(1371),function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(i.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(r)))).state={email:""},t.onChange=function(e){return t.setState({email:e.target.value})},t.sendMail=function(e){e.preventDefault(),t.state.email?A.a.set_mail({mail:t.state.email}).then(function(){Ce.a.fire({title:"Yay...",text:"Mail correctement enregistr\xe9 !",type:"success",timer:1500}),t.setState({email:""})}).catch(function(e){return Ce.a.fire("Oh non...","Une erreur s'est produite","error")}):Ce.a.fire({title:"Oops...",text:"Aucun mail renseign\xe9",type:"error",timer:1500})},t.upcoming=function(){return Ce.a.fire({title:"Oh non!",text:"Cette fonctionnalit\xe9 n'est pas encore disponible",type:"error",timer:1500})},t}return Object(s.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.t;return d.a.createElement("div",{className:"animated fadeIn footer"},d.a.createElement(ae.a,null,d.a.createElement(he.a,{lg:"4"},d.a.createElement(H,null),d.a.createElement(fe.a,{onSubmit:this.sendMail},d.a.createElement(Ee.a,null,d.a.createElement("div",{className:"position-relative"},d.a.createElement(ve.a,{type:"email",name:"email",value:this.state.email,onChange:this.onChange,id:"emailNewsletter",placeholder:e("Footer.Je m'abonne \xe0 la newsletter","Je m'abonne \xe0 la newsletter")}),d.a.createElement(be.a,{addonType:"append",className:"icon-append",onClick:this.sendMail},d.a.createElement(q.a,{name:"at-outline",fill:P.a.noir}))))),d.a.createElement("div",{className:"ligne-footer"},d.a.createElement(R.a,{tag:"a",href:"https://agi-r.mn.co",target:"_blank",className:"footer-btn",type:"light-action",name:"people-outline",fill:P.a.noir},e("Footer.Participer \xe0 l'\xe9volution de r\xe9fugi\xe9s-info","Participer \xe0 l'\xe9volution de r\xe9fugi\xe9s.info"))),d.a.createElement("div",{className:"ligne-footer"},d.a.createElement(R.a,{tag:"a",href:"https://agir.canny.io/agir",target:"_blank",className:"footer-btn",type:"light-action",name:"plus-circle-outline",fill:P.a.noir},e("Footer.Demander des fonctionnalit\xe9s","Demander des fonctionnalit\xe9s")))),d.a.createElement(he.a,{lg:"8",className:"right-col"},d.a.createElement(ae.a,{className:"main-row"},d.a.createElement(he.a,{lg:"4"},d.a.createElement("h5",{className:"footer-header"},e("Footer.Le projet","Le projet")),d.a.createElement("div",{className:"lien-footer"},d.a.createElement(pe.NavHashLink,{to:"/qui-sommes-nous#hero"},e("Qui sommes-nous ?","Qui sommes-nous ?"))),d.a.createElement("div",{className:"lien-footer"},d.a.createElement(pe.NavHashLink,{to:"/comment-contribuer#hero"},e("Comment contribuer ?","Comment contribuer ?"))),d.a.createElement("div",{className:"lien-footer",onClick:this.upcoming},d.a.createElement(S.a,{to:"/"},e("Accessibilit\xe9","Accessibilit\xe9"))),d.a.createElement("div",{className:"lien-footer",onClick:this.upcoming},d.a.createElement(S.a,{to:"/"},e("Mentions l\xe9gales","Mentions l\xe9gales")))),d.a.createElement(he.a,{lg:"8"},d.a.createElement("h5",{className:"footer-header"},e("Footer.Vous cherchez ?","Vous cherchez ?")),d.a.createElement("div",{className:"lien-footer"},d.a.createElement(S.a,{to:"/advanced-search"},e("Dispositif d'accompagnement","Dispositif d'accompagnement"))),d.a.createElement("div",{className:"lien-footer"},d.a.createElement(pe.NavHashLink,{to:"/homepage#plan",smooth:!0},e("D\xe9marche administrative","D\xe9marche administrative"))),d.a.createElement("div",{className:"lien-footer"},d.a.createElement(pe.NavHashLink,{to:"/homepage#plan",smooth:!0},e("Parcours personnalis\xe9","Parcours personnalis\xe9"))),d.a.createElement("div",{className:"lien-footer"},d.a.createElement(pe.NavHashLink,{to:"/homepage#explique"},e("Lexique","Lexique"))))))))}}]),a}(m.Component)),Ne=C()({page:"Footer"})(Object(p.b)()(ke)),we=(t(1372),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(c.a)(a).call(this,e))).state={showSideDrawer:{left:!1,right:!1},traducteur:!1,showOnBoardingTraducteurModal:!1},t.audio=new Audio,t.loading=function(){return d.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},t.sideDrawerClosedHandler=function(e){t.setState({showSideDrawer:Object(r.a)({},t.state.showSideDrawer,Object(n.a)({},e,!1))})},t.sideDrawerToggleHandler=function(e){t.setState(function(a){return{showSideDrawer:Object(r.a)({},t.state.showSideDrawer,Object(n.a)({},e,!a.showSideDrawer[e]))}})},t.devenirTraducteur=function(){t.setState({showOnBoardingTraducteurModal:!0})},t.closeOnBoardingTraducteurModal=function(){t.setState({showOnBoardingTraducteurModal:!1})},t.changeLanguage=function(e){t.props.tracking.trackEvent({action:"click",label:"changeLanguage",value:e}),t.props.toggle_langue(e),t.props.i18n.getResourceBundle(e,"translation")?t.props.i18n.changeLanguage(e):console.log("Resource not found in i18next."),t.props.showLangModal&&t.props.toggle_lang_modal()},t.toggleHover=function(e){t.props.ttsActive&&e.target&&e.target.firstChild&&e.target.firstChild.nodeValue&&(console.log(e.target.firstChild.nodeValue),t.readAudio(e.target.firstChild.nodeValue))},t.readAudio=ge.a.bind(Object(u.a)(Object(u.a)(t))),t}return Object(s.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.fetch_user(),this.props.fetch_dispositifs(),this.props.fetch_structures(),this.props.fetch_langues().then(function(){var a=w.a.get("languei18nCode");a&&"fr"!==a?e.changeLanguage(a):a||e.props.toggle_lang_modal()}),window.scrollTo(0,0)}},{key:"componentDidUpdate",value:function(e){e.ttsActive===this.props.ttsActive||this.props.ttsActive||(this.audio.pause(),this.audio.currentTime=0)}},{key:"render",value:function(){var e=this;return d.a.createElement(b.a,{direction:"ar"===g.a.language?v.DIRECTIONS.RTL:v.DIRECTIONS.LTR},d.a.createElement("div",{onMouseOver:this.toggleHover},d.a.createElement(m.Suspense,{fallback:this.loading()},d.a.createElement(Q,{drawerToggleClicked:this.sideDrawerToggleHandler})),d.a.createElement("div",{className:"app-body"},d.a.createElement(ue,{side:"left",open:this.state.showSideDrawer.left,closed:function(){return e.sideDrawerClosedHandler("left")}}),d.a.createElement("main",{className:"Content"},this.props.children,d.a.createElement(d.a.Fragment,null,d.a.createElement(h.a,null,$.default.map(function(a,t){return a.component?d.a.createElement(f.a,{key:t,path:a.path,exact:a.exact,name:a.name,render:function(t){return d.a.createElement(a.component,Object.assign({socket:e.props.socket,socketFn:e.props.socketFn},t))}}):null}),d.a.createElement(E.a,{from:"/",to:"/homepage"}))))),d.a.createElement(Ne,null),d.a.createElement(me.a,{show:this.state.showOnBoardingTraducteurModal,closeOnBoardingTraducteurModal:this.closeOnBoardingTraducteurModal}),d.a.createElement(de.a,{show:this.props.showLangModal,current_language:g.a.language,toggle:this.props.toggle_lang_modal,changeLanguage:this.changeLanguage,languages:this.props.langues})))}}]),a}(m.Component)),Oe=B;a.default=C()({layout:"Layout"},{dispatchOnMount:!0})(Object(k.b)(function(e){return{ttsActive:e.tts.ttsActive,languei18nCode:e.langue.languei18nCode,showLangModal:e.langue.showLangModal,langues:e.langue.langues}},Oe)(Object(p.b)()(we)))}}]);
//# sourceMappingURL=3.87cfc2e5.chunk.js.map